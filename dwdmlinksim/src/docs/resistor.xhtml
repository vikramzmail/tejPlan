<?xml version="1.0" encoding="UTF-8"?>
<!--

Copyright (C) 1996 The Regents of the University of California.
All Rights Reserved.

Permission to use, copy, modify, and distribute this software and its
documentation for educational, research and non-profit purposes,
without fee, and without a written agreement is hereby granted,
provided that the above copyright notice, this paragraph and the
following three paragraphs appear in all copies.

This software program and documentation are copyrighted by The Regents
of the University of California. The software program and
documentation are supplied "as is", without any accompanying services
from The Regents. The Regents does not warrant that the operation of
the program will be uninterrupted or error-free. The end-user
understands that the program was developed for research purposes and
is advised not to rely exclusively on the program for any reason.

IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY
FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES,
INCLUDING LOST PROFITS, ARISING OUT OF THE USE OF THIS SOFTWARE AND
ITS DOCUMENTATION, EVEN IF THE UNIVERSITY OF CALIFORNIA HAS BEEN
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. THE UNIVERSITY OF
CALIFORNIA SPECIFICALLY DISCLAIMS ANY WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE. THE SOFTWARE PROVIDED HEREUNDER IS ON AN "AS IS"
BASIS, AND THE UNIVERSITY OF CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE
MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd"[
    <!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
    ]>
    <html xmlns="http://www.w3.org/1999/xhtml">
        <head>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
            <title>Resistor</title>
            <link rel="stylesheet" type="text/css" href="doc.css"/>
        </head>
        <body>
            <span class="intro">
                <big>Spice Modeling</big>
                <br/>	    <br/>
                General form:
                <br/>
                <code>RXXXXXXX N+ N- VALUE [AC=VALUE] [M=VALUE] [SCALE=VALUE] [TEMP=VALUE]
                    [DTEMP=VALUE] [NOISY=0|1]</code>
                <br/>
                <br/>
                Examples:
                <br/>
                <code>R1 1 2 100</code><br/>
                <code>RC1 12 17 1K</code><br/>
                <code>R2 5 7 1K ac=2K</code><br/>
                <code>RL 1 4 2K m=2</code>
            </span>
            <br/>
            <p>
                Ngspice has a fairly complex model for resistors. It can simulate both
                discrete and semiconductor resistors. Semiconductor resistors in ngspice
                means: resistors described by geometrical parameters. So, do not expect
                detailed modelling of semiconductor effects.
            </p>
            <p>
                <var>N+</var> and <var>N-</var> are the two element nodes, <var>VALUE</var> is
                the resistance (in ohms) and may be positive or negative but not zero.
            </p>
            <p>
                Hint: If you need to simulate very small resistors (0.001 Ohm or
                less), you should use ICVS (transresistance), it is less efficient but
                improves overall numerical accuracy. Think about that a small resistance
                is a large conductance.
            </p>
            <p>
                Ngspice can assign a resistor instance a different value for AC analysis,
                specified using the <var>AC</var> keyword. This value must not be zero as
                described above. The AC resistance is used in AC analysis only (not Pole-Zero
                nor noise).  If you do not specify the <var>AC</var> parameter, it is
                defaulted to <var>VALUE</var>.
            </p>
            <p>
                If you want to simulate temperature dependence of a resistor, you need
                to specify its temperature coefficients, using a <span class="command">.model</span> line,
                like in the example below:
            </p>
            <code>RE1 1 2 700 std dtemp=5</code><br/>
            <br/>
            <code>.MODEL std tc1=0.001</code>
            <br/>
            <p>
                Instance temperature is useful even if resistance does not varies with it, since
                the thermal noise generated by a resistor depends on its absolute temperature.
            </p>
            <p>
                Resistors in ngspice generates two different noises: thermal and flicker. While
                thermal noise is always generated in the resistor, to add a flicker noise source
                you have to add a <span class="command">.model</span> card defining the flicker noise parameters.
                It is possible to simulate resistors that do not generate any kind of noise
                using the <var>NOISY</var> keyword  and assigning zero to it, as in the
                following example:
            </p>
            <code>Rmd 134 57 1.5k noisy=0</code>
            <p>
                Ngspice calculates the nominal resistance as described below:
            </p>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <mrow>
                    <msub><mi>R</mi><mi>nom</mi></msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                    <mfrac>
                        <mrow>
                            <mi>VALUE</mi>
                            <mo>&InvisibleTimes;</mo>
                            <mi>scale</mi>
                        </mrow>
                        <mi>m</mi>
                    </mfrac>
                </mrow>
            </mrow>
        </math>
        <br/>
        <br/>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <mrow>
                    <msub><mi>R</mi><mi>acnom</mi></msub>
                </mrow>
                <mo>=</mo>
                <mrow>
                    <mfrac>
                        <mrow>
                            <mi>ac</mi>
                            <mo>&InvisibleTimes;</mo>
                            <mi>scale</mi>
                        </mrow>
                        <mi>m</mi>
                    </mfrac>
                </mrow>
            </mrow>
        </math>
        <br/>
        <p>
            If you are interested in temperature effects or noise equations, read
            the following section on semiconductor resistors.
        </p>
        <a name="semires">Semiconductor Resistors:</a>
        <br/>
        <p>
            General form:
            <br/>
            <code>RXXXXXXX N+ N- [VALUE] [MNAME] [L=LENGTH] [W=WIDTH] [TEMP=VALUE]
                [DTEMP=VALUE] [M=VALUE] [AC=VALUE] [SCALE=VALUE] [NOISY = 0|1]</code>
            <br/>
            <br/>
            Examples:
            <br/>
            <code>RLOAD 2 10 10K</code><br/>
            <code>RMOD 3 7 RMODEL L=10u W=1u</code>
        </p>
        <p>
            This is the more general form of the resistor presented before (@pxref{Resistors})
            and allows the modelling of temperature effects and for the calculation
            of the  actual resistance value from strictly geometric information and
            the specifications of the process.  If <var>VALUE</var> is specified, it
            overrides the geometric information and defines the resistance.  If
            <var>MNAME</var> is specified, then the resistance may be calculated from
            the process information in the model <var>MNAME</var> and the given <var>LENGTH</var>
            and <var>WIDTH</var>. If <var>VALUE</var> is not specified, then <var>MNAME</var>
            and <var>LENGTH</var> must be specified.  If <var>WIDTH</var> is not specified,
            then it is taken from the default width given in the model.
        </p>
        <p>
            The (optional) <var>TEMP</var> value is the temperature at which this device
            is to operate, and overrides the temperature specification on the
            <span class="command">.option</span> control line and the value specified in <var>DTEMP</var>.
        </p>
        <a name="semiresmodel">Semiconductor Resistor Model:</a>
        <p>
            The resistor model consists of process-related device data that allow
            the resistance to be calculated from geometric information and to be
            corrected for temperature.  The parameters available are:
        </p>
        <table border="1">
            <tr><th>Name</th><th>Parameter</th><th>Units</th><th>Default</th><th>Example</th></tr>
            <tr><td>TC1</td><td>First order temperature coeff.</td><td>ohm/<sup>o</sup>C</td><td>0.0</td><td></td></tr>
            <tr><td>TC2</td><td>Second order temperature coeff.</td><td>ohm/<sup>o</sup>C<sup>2</sup></td><td>0.0</td><td></td></tr>
            <tr><td>RSH</td><td>Sheet resistance</td><td>ohm/[]</td><td>-</td><td>50</td></tr>
            <tr><td>DEFW</td><td>Default width</td><td>meters</td><td>1e-6</td><td>2e-6</td></tr>
            <tr><td>NARROW</td><td>Narrowing due to side etching</td><td>meters</td><td>0.0</td><td>1e-7</td></tr>
            <tr><td>SHORT</td><td>Shortening due to side etching</td><td>meters</td><td>0.0</td><td>1e-7</td></tr>
            <tr><td>TNOM</td><td>Parameter measurement temperature</td><td>a<sup>o</sup>C</td><td>27</td><td>50</td></tr>
            <tr><td>KF</td><td>Flicker noise coefficient</td><td>-</td><td>0.0</td><td>1e-25</td></tr>
            <tr><td>AF</td><td>Flicker noise exponent</td><td>-</td><td>0.0</td><td>1.0</td></tr>
        </table>
        <p>
            The sheet resistance is used with the narrowing parameter and <var>L</var>
            and <var>W</var> from the resistor device to determine the nominal resistance
            by the formula:
        </p>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <msub><mi>R</mi><mi>nom</mi></msub>
            </mrow>
            <mo>=</mo>
            <mrow>
                <mi>rsh</mi>
                <mfrac>
                    <mrow>
                        <mi>l</mi>
                        <mo>-</mo>
                        <mi>SHORT</mi>
                    </mrow>
                    <mrow>
                        <mi>w</mi>
                        <mo>-</mo>
                        <mi>NARROW</mi>
                    </mrow>
                </mfrac>
            </mrow>
        </math>
        <br/>
        <p>
            <var>DEFW</var> is used to supply a default value for <var>W</var> if one is
            not specified for the device.  If either <var>RSH</var> or <var>L</var> is not
            specified, then the standard default resistance value of 1k Ohm is used.
            <var>TNOM</var> is used to override the circuit-wide value given on the
            <span class="command">.options</span> control line where the parameters of this model have
            been measured at a different temperature.
        </p>
        <p>
            After the nominal resistance is calculated, it is adjusted for temperature
            by the formula:
        </p>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <mi>R</mi>
                <mo>(</mo>
                <mi>T</mi>
                <mo>)</mo>
                <mo>=</mo>
                <mrow>
                    <mi>R</mi>
                    <mo>(</mo>
                    <mi>TNOM</mi>
                    <mo>)</mo>
                    <mo>&InvisibleTimes;</mo>
                    <mo>(</mo>
                    <mn>1</mn>
                    <mo>+</mo>
                    <msub>
                        <mi>TC</mi>
                        <mn>1</mn>
                    </msub>
                    <mo>(</mo>
                    <mi>T</mi>
                    <mo>-</mo>
                    <mi>TNOM</mi>
                    <mo>)</mo>
                    <mo>+</mo>
                    <msub>
                        <mi>TC</mi>
                        <mn>2</mn>
                    </msub>
                    <msup>
                        <mrow>
                            <mo>(</mo>
                            <mi>T</mi>
                            <mo>-</mo>
                            <mi>TNOM</mi>
                            <mo>)</mo>
                        </mrow>
                        <mn>2</mn>
                    </msup>
                    <mo>)</mo>
                </mrow>
            </mrow>
        </math>
        <br/>
        <br/>
        where
        <br/>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <mi>R</mi><mi><mo>(</mo>TNOM<mo>)</mo></mi>
            </mrow>
            <mo>=</mo>
            <mrow>
                <msub><mi>R</mi><mi>nom</mi></msub> &vert; <msub><mi>R</mi><mi>acnom</mi></msub>
            </mrow>
        </math>
        <br/>
        <p>
            In the above formula, `<math xmlns="&mathml;"><mi>T</mi></math>' represents the instance temperature, which can be
        explicitly using the <var>TEMP</var> keyword or calculated using the
        circuit temperature and <var>DTEMP</var>, if present.
        </p>
        <p>
            If both <var>TEMP</var> and <var>DTEMP</var> are specified, the latter is ignored.</p><p>
            Ngspice improves spice's resistors noise model, adding flicker noise (1/f) to
            it and the <var>NOISY</var> keyword to simulate noiseless resistors. The thermal
            noise in resistors is modelled according to the equation:
        </p>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <mrow>
                    <mover accent="true"><msubsup><mi>i</mi><mi>R</mi><mn>2</mn></msubsup><mo>&OverBar;</mo></mover>
                </mrow>
                <mo>=</mo>
                <mrow>
                    <mfrac>
                        <mrow>
                            <mn>4</mn>
                            <mo>&InvisibleTimes;</mo>
                            <mi>k</mi>
                            <mo>&InvisibleTimes;</mo>
                            <mi>T</mi>
                        </mrow>
                        <mrow>
                            <mi>R</mi>
                        </mrow>
                    </mfrac>
                </mrow>
                <mrow>&Delta; <mi>f</mi></mrow>
            </mrow>
        </math>
        <p>
            where "<math xmlns="&mathml;"><mi>k</mi></math>" is the Boltzmann's constant, and "<math xmlns="&mathml;"><mi>T</mi></math>" the instance temperature.
        </p>
        <p>
            Flicker noise model is:
        </p>
        <math xmlns="&mathml;" class="equation">
            <mrow>
                <mrow>
                    <mover><msubsup><mi>i</mi><mi>Rfn</mi><mn>2</mn></msubsup><mo>&OverBar;</mo></mover>
                </mrow>
                <mo>=</mo>
                <mrow>
                    <mfrac>
                        <mrow>
                            <mi>KF</mi>
                            <mo>&it;</mo>
                            <msubsup><mi>I</mi><mi>R</mi><mi>AF</mi></msubsup>
                        </mrow>
                        <mrow>
                            <mi>f</mi>
                        </mrow>
                    </mfrac>
                    <mrow>&Delta;<mi>f</mi></mrow>
                </mrow>
            </mrow>
        </math>
        <br/>
        <p>
            A small list of sheet resistances (in Ohm/[]) for conductors is shown below.
            The table represents typical values for MOS processes in the 0.5 - 1 um
            range. The table is taken from: @emph{N. Weste, K. Eshraghian - Principles of
            CMOS VLSI Design 2nd Edition,  Addison Wesley}.
        </p>
        <table border="1">
            <tr><th>Material</th><th>Min.</th><th>Typical</th><th>Max.</th></tr>
            <tr><td>Intermetal (metal1 - metal2)</td><td>0.005</td><td>0.007</td><td>0.1</td></tr>
            <tr><td>Top-metal (metal 3)</td><td>0.003</td><td>0.004</td><td>0.05</td></tr>
            <tr><td>Polysilicon</td><td>15</td><td>20</td><td>30</td></tr>
            <tr><td>Silicide</td><td>2</td><td>3</td><td>6</td></tr>
            <tr><td>Diffusion(n+,p+)</td><td>10</td><td>25</td><td>100</td></tr>
            <tr><td>Silicided diffusion</td><td>2</td><td>4</td><td>10</td></tr>
            <tr><td>n-well</td><td>1000</td><td>2000</td><td>5000</td></tr>
        </table>
        <br/>
        <!--
        <table border="1">
            <tr><th>Resistor - Instance parameters (input-output)</th></tr>
            <tr><td>resistance</td><td>Resistance</td></tr>
            <tr><td>temp</td><td>Instance operating temperature</td></tr>
            <tr><td>l</td><td>Length</td></tr>
            <tr><td>w</td><td>Width</td></tr>
            <tr><th>Resistor - Instance parameters (output-only)</th></tr>
            <tr><td>i</td><td>Current</td></tr>
            <tr><td>p</td><td>Power</td></tr>
            <tr><th>Resistor - Instance parameters (input-only)</th></tr>
            <tr><td>r</td><td>Device is a resistor Instance</td></tr>
            <tr><th>Resistor - Instance parameters (input-output)</th></tr>
            <tr><td>rsh</td><td>Sheet resistance</td></tr>
            <tr><td>narrow</td><td>Narrowing of resistor</td></tr>
            <tr><td>tc1</td><td>First order temp. coefficient</td></tr>
            <tr><td>tc2</td><td>Second order temp. coefficient</td></tr>
            <tr><td>defw</td><td>Default device width</td></tr>
            <tr><td>tnom</td><td>Parameter measurement temperature</td></tr>
        </table>
        -->
        </body>
    </html>
