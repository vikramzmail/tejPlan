<html>
<head><title>Blocking metrics</title></head>
<body>

<h1>Contents</h1>

<ul>
	<li><a href='#sectionIntroduction'>Introduction</a></li>
	<li><a href='#sectionTrafficModel'>Traffic model</a></li>
	<li><a href='#sectionLoadSharingModel'>Connection routing: the load sharing model</a></li>
	<li><a href='#sectionBlockingProbabilities'>Blocking probabilities</a></li>
	<li><a href='#sectionPathBlockingProbabilities'>Path blocking probabilities</a></li>
	<li><a href='#sectionAverageNetworkBlockingProbability'>Average network blocking probability</a></li>
	<li><a href='#sectionInformationTables'>Information tables</a>
	    <ul>
		    <li><a href='#linkBlockingProbabilitiesTable'>Link blocking probabilities</a></li>
		    <li><a href='#pathBlockingProbabilitiesTable'>Path blocking probabilities</a></li>
		    <li><a href='#networkBlockingProbabilityTable'>Network-wide blocking information</a></li>
	    </ul>
	</li>
	<li><a href='#sectionReferences'>References</a></li>
</ul>

<a name='sectionIntroduction'></a>
<h1>Introduction</h1>

<p>In circuit-switched networks, a traffic demand <i>d</i> is a source of connection requests between the origin and the destination nodes of the demmand. When the connection requests are accepted by the network, they occupy a fixed amount of capacity <i>s<sub>d</sub></i>, in each of the traversed links, for the whole duration of the connection. If the connection request is not accepted, we say that the connection is blocked. We assume that the link capacities <i>u_e</i> are integer numbers, measured in the same units as <i>r<sub>d</sub></i>.</p>

<p>Blocking performance metrics estimate the probabilities that connections are blocked, which is a key measure of Quality of Service in the network. In this section we describe a simplified model to estimate the blocking probability for a link,a route, and an average number in the network. In this report, we follow the assumptions commonly termed as the <i>load sharing model</i> [<a href='#Girard1990'>1</a>, <a href='#Ross1995'>2</a>], adapting them to our notation, and extending it to consider also multiclass traffic.</p>

<a name='sectionTrafficModel'></a>
<h1>Traffic model</h1>

<p>Each demand <i>d</i> is a source of connection requests between nodes <i>a(d)</i> and <i>b(d)</i>. All the accepted connections associated to the demand reserve the capacity <i>s<sub>d</sub></i> in each traversed link. We assume <i>s<sub>d</sub></i> is an integer number. When <i>s<sub>d</sub>=1</i> for all the demands, we say that the traffic in the network is monoclass. Otherwise, the traffic is multiclass.</p>

<p>For each demand <i>d</i>, the arrival of new connections requests follow a Poisson distribution with average of <i>&lambda;<sub>d</sub></i> connections/second. The duration of each connection (if accepted) is also random, with an exponential distribution of average <i>&mu;<sub>d</sub><sup>-1</sup></i> seconds/connection. The average traffic generated by the demand <i>d</i> (measured in the same units as <i>s<sub>d</sub></i> and <i>u<sub>e</sub></i>) is given by:</p>

<center>
	<img src='averageTrafficPerDemand.png' />
</center>

<!--
h_d = s_d \frac{\lambda_d}{\mu_d}
-->

<a name='sectionLoadSharingModel'></a>
<h1>Connection routing: the load sharing model</h1>

Let <i>p</i> denote a path in the network between nodes <i>a(d)</i> and <i>b(d)</i>. Then, the amount of traffic from demand <i>d</i> that is offered to path <i>p</i> is given by <i>x<sub>dp</sub></i>, measured in the same units of <i>h<sub>d</sub></i>. That is, if <i>P<sub>d</sub></i> is the set of paths that carry traffic from demand <i>d</i>, then:

<center>
	<img src='loadSharingModel.png' />
</center>

<!--
\sum_{p \in P_d} x_{dp} = h_d \quad \forall d \in D
-->

In the connection routing we apply the load sharing model. According to this model, each connection request from a demand <i>d</i> chooses randomly a path <i>p</i> among the paths in <i>P<sub>d</sub></i>. The probability of choosing a path <i>p</i> is proportional to the traffic carried, and given by <i>x<sub>dp</sub>/h<sub>d</sub></i>. After choosing the path <i>p</i>, the connection is accepted if all the links in <i>p</i> have enough spare capacity (<i>s<sub>d</sub></i> units or more). If not, the connection is blocked. This means that there is no attempt to carry the connection in other possible routes in <i>P<sub>d</sub></i>. This is the distinguishing trait of the so-called <i>load sharing model</i> [<a href='#Girard1990'>1</a>, <a href='#Ross1995'>2</a>]. Note that thanks to this assumption, there is no overflow traffic in the network (traffic offered to a route, that if blocked, and overflows to an alternate route).

<a name='sectionBlockingProbabilities'></a>
<h1>Blocking probabilities</h1>

<p>We assume that the traffic offered to a link <i>e</i> is equal to the sum of the traffics offered to all the paths that traverse the link. We denote as <i>P<sub>de</sub></i>, the set of paths that carry traffic of demand <i>d</i> (<i>&isin; P<sub>d</sub></i>), and that traverse link <i>e</i>. Then, we denote as <i>y<sub>de</sub></i> the traffic of demand <i>d</i> that traverses link <i>e</i>.</p>

<center>
	<img src='y_de.png' />
</center>

<!--
y_{de} = \sum_{p \in P_{de}} x_{dp}
-->

<p>The total amount of traffic offered to a link is given by:</p>

<center>
	<img src='y_e.png' />
</center>

<!--
y_e = \sum_d y_{de} = \sum_d \sum_{p \in P_{de}} x_{dp}
-->

<p>We assume now that the arrivals of connection requests <i>to each link</i> are Poisson processes, independent link-by-link. Thanks to this, we can calculate the blocking probability of the traffic in each link as follows:</p>

<ul>
	<li>
	Monoclass traffic: If the traffic is monoclass (<i>s<sub>d</sub>=1</i>, <i>&forall;d</i>), all the routes traversing the link observe the same blocking probability <i>B<sub>e</sub></i> in the link <i>e</i>. This is given by the Erlang-B formula:

	<center>
		<img src='ErlangB.png' />
	</center>

	<!--
	B_e = B_e (y_e , u_e) = \frac{y_e^{u_e} / u_e! }{\sum_{k=0}^{u_e} y_e^k / k!}
	-->

	Note that the blocking probability in the link depends only on the total amount of traffic offered to the link <i>y<sub>e</sub></i>, and the link capacity <i>u<sub>e</sub></i>.
	</li>
	<li>
	Multiclass traffic: If the traffic is multiclass, the connection requests with different <i>s<sub>d</sub></i> values (amount of resources to reserve), have different link blocking probabilities. Then, the link blocking probability depends on the demand. We denote as $B_e(d)$ the blocking probability observed by the traffic of demand <i>d</i>, when offered to link <i>e</i>. The <i>B<sub>e</sub>(d)</i> probabilities are calculated using the Kaufman-Roberts recursion [<a href='#Kaufman1981'>3</a>, <a href='#Roberts1981'>4</a>] (which provides the same results as the Erlang-B, when applied to monoclass traffic):

	<center>
		<img src='KaufmanRobertsRecursion.png' />
	</center>
	</li>
</ul>

<p><a href='#linkBlockingProbabilitiesTable'>Click here to see the link blocking probabilities</a>.</p>

<a name='sectionPathBlockingProbabilities'></a>
<h1>Path blocking probabilities</h1>

<p>For the calculation of the path blocking probabilities, we assume that all the arrival processes to the links are statistically independent. Then, given a path <i>p</i> carrying traffic of demand <i>d</i>, the path blocking probability <i>B<sub>p</sub>(d)</i> is given by:</p>

<center>
	<img src='pathBlockingProbability.png' />
</center>

<!--
B_p (d) = 1 - \prod_{e \in p} (1-B_e(d))
-->

<p>Naturally, if the traffic is monoclass, the notation <i>B<sub>e</sub>(d)</i> refers to <i>B<sub>e</sub></i>.</p>

<p><a href='#pathBlockingProbabilitiesTable'>Click here to see the blocking probabilities for each route of each demand</a>.</p>

<a name='sectionAverageNetworkBlockingProbability'></a>
<h1>Average network blocking probability</h1>

We compute the average network blocking probability <i>B</i>, as the weighted average of the blocking probabilites for each route, according to the expression:

<center>
	<img src='averageNetworkBlockingProbability.png' />
</center>

<!--
B = \frac{1}{\sum_d h_d } \sum_d \sum_{p \in P_d} h_d B_p (d)
-->

<p><a href='#networkBlockingProbabilityTable'>Click here to see some network-wide blocking information</a>.</p>

<a name='sectionInformationTables'></a>
<h1>Information tables</h1>

<p><a name='linkBlockingProbabilitiesTable'>Link blocking probabilities</a></p>

#linkBlockingProbabilitiesTable#

<p><a name='pathBlockingProbabilitiesTable'>Path blocking probabilities</a></p>

#pathBlockingProbabilitiesTable#

<p><a name='networkBlockingProbabilityTable'>Network-wide blocking information</a></p>

#networkBlockingProbabilityTable#

<a name='sectionReferences'></a>
<h1>References</h1>

<a name='Girard1990'></a>
[1] A. Girard, <i>Routing and dimensioning in circuit-switched networks</i>, Addison-Wesley, 1990.
<br />
<a name='Ross1995'></a>
[2] K.W. Ross, <i>Multiservice loss models for broadband telecommunication networks</i>, Springer, 1995.
<br />
<a name='Kaufman1981'></a>
[3] J. Kaufman, "Blocking in a Shared Resource Environment", <i>IEEE Transactions on Communications</i>, vol. 29, no. 10, pp. 1474-1481, 1981.
<br />
<a name='Roberts1981'></a>
[4] J.W. Roberts, "A service system with heterogeneous user requirements", in <i>Proceedings of the International Conference on Performance Data Communication Systems and Their Applications</i>, pp. 423-431, 1981.
</body>
</html>